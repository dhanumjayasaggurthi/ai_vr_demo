<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>DENTAL AI VR - Cinematic Experience</title>

    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>

    <style>
        body { margin:0; background:#000; }
    </style>
</head>

<body>
<a-scene
    loading-screen="enabled:false"
    background="color:#000000"
    fog="type: exponential; color: #000; density: 0.1"
    renderer="antialias:true"
    vr-mode-ui="enabled:true"
    webxr="optionalFeatures: local-floor">

    <!-- CAMERA RIG -->
    <a-entity id="rig" position="0 1.6 0">
        <a-camera look-controls></a-camera>
    </a-entity>

    <!-- MOMENT 1: DARKNESS -->
    <a-entity id="moment-1" visible="true">
        <a-entity id="awakening-particles"></a-entity>
    </a-entity>

    <!-- MOMENT 2: WORLD FORMS -->
    <a-entity id="moment-2" visible="false">

        <a-plane
            rotation="-90 0 0"
            width="30"
            height="30"
            material="color:#0a1428; shader:flat; opacity:0; wireframe:true"
            animation__fade="property:material.opacity; to:0.8; dur:3000"
            animation__scale="property:scale; from:0.1 0.1 0.1; to:1 1 1; dur:3000">
        </a-plane>

        <a-ring
            radius-inner="1"
            radius-outer="1.2"
            rotation="-90 0 0"
            material="color:#00ffff; opacity:0.8; shader:flat"
            animation__expand="property:scale; from:0.1 0.1 0.1; to:15 15 15; dur:4000"
            animation__fade="property:material.opacity; to:0; dur:4000">
        </a-ring>
    </a-entity>

    <!-- MOMENT 3: AI AWAKENS -->
    <a-entity id="moment-3" visible="false">
        <a-entity id="ai-avatar" position="0 2 -4">

            <a-entity id="particle-cloud"></a-entity>

            <a-entity id="avatar-body" visible="false">

                <a-sphere radius="0.4" position="0 0.6 0"
                    material="color:#1a6d8d; emissive:#00ffff; opacity:0"
                    animation="property:material.opacity; to:0.95; dur:2000">
                </a-sphere>

                <a-cylinder height="1.2" radius="0.35" position="0 -0.3 0"
                    material="color:#1a6d8d; emissive:#00ffff; opacity:0"
                    animation="property:material.opacity; to:0.95; dur:2000; delay:500">
                </a-cylinder>

                <a-ring radius-inner="0.8" radius-outer="0.9" rotation="-90 0 0"
                    material="color:#00ffff; opacity:0.4"
                    animation="property:rotation; to:-90 360 0; dur:10000; loop:true">
                </a-ring>

            </a-entity>
        </a-entity>
    </a-entity>

    <!-- MOMENT 4: XRAY -->
    <a-entity id="moment-4" visible="false">
        <a-plane width="3" height="2.5" position="0 2.5 -5"
            material="color:#0a2838; opacity:0.95; shader:flat">
        </a-plane>

        <a-ring radius-inner="0.22" radius-outer="0.28" position="0.3 2.8 -4.9"
            material="color:#ff0000; opacity:0.8"
            animation="property:scale; from:1 1 1; to:1.5 1.5 1.5; dur:1000; loop:true">
        </a-ring>
    </a-entity>

    <!-- MOMENT 5: IMPLANT -->
    <a-entity id="moment-5" visible="false">
        <a-entity position="0 1.8 -1.5"
            animation="property:rotation; to:0 360 0; dur:15000; loop:true">

            <a-cylinder height="0.9" radius="0.09"
                material="color:#00ff88; emissive:#00ff88">
            </a-cylinder>

            <a-ring radius-inner="0.5" radius-outer="0.55"
                rotation="-90 0 0"
                material="color:#00ff00; opacity:0.8">
            </a-ring>
        </a-entity>
    </a-entity>

    <!-- MOMENT 6: FINALE -->
    <a-entity id="moment-6" visible="false">

        <a-text value="DENTAL AI VR"
            position="0 2 -8"
            width="20"
            align="center"
            color="#00ffff"
            scale="0.1 0.1 0.1"
            animation="property:scale; to:1 1 1; dur:2000">
        </a-text>

        <a-text value="THIS IS HAPPENING NOW"
            position="0 -1 -8"
            width="12"
            align="center"
            color="#00ff88">
        </a-text>

    </a-entity>

    <!-- LIGHTING -->
    <a-entity light="type:ambient; intensity:0.3"></a-entity>
    <a-entity light="type:point; color:#00ffff; intensity:1; distance:30"
        position="0 4 0">
    </a-entity>

</a-scene>

<script>
const moments = [
    'moment-1',
    'moment-2',
    'moment-3',
    'moment-4',
    'moment-5',
    'moment-6'
];

let current = 0;

const timings = [6000, 8000, 8000, 8000, 8000, 12000];

function showMoment(i) {
    moments.forEach(id => {
        document.getElementById(id).setAttribute('visible', false);
    });
    document.getElementById(moments[i]).setAttribute('visible', true);
}

function advance() {
    showMoment(current);
    if (current < moments.length - 1) {
        setTimeout(() => {
            current++;
            advance();
        }, timings[current]);
    }
}

function generateParticles() {
    const c = document.getElementById('awakening-particles');
    for (let i = 0; i < 50; i++) {
        const p = document.createElement('a-sphere');
        p.setAttribute('radius', '0.02');
        p.setAttribute('position',
            `${(Math.random()-0.5)*8} ${Math.random()*3} ${(Math.random()-0.5)*8}`);
        p.setAttribute('material',
            'color:#00ffff; emissive:#00ffff');
        c.appendChild(p);
    }
}

function generateAI() {
    const c = document.getElementById('particle-cloud');
    for (let i = 0; i < 80; i++) {
        const p = document.createElement('a-sphere');
        p.setAttribute('radius','0.01');
        p.setAttribute('position',
            `${(Math.random()-0.5)} ${(Math.random()-0.5)} ${(Math.random()-0.5)}`);
        p.setAttribute('material','color:#00ffff; emissive:#00ffff');
        c.appendChild(p);
    }
    setTimeout(()=> {
        document.getElementById('avatar-body').setAttribute('visible',true);
    },2000);
}

document.querySelector('a-scene').addEventListener('loaded', () => {
    generateParticles();
    setTimeout(advance, 2000);
    setTimeout(generateAI, timings[0] + timings[1]);
});
</script>
</body>
</html>
